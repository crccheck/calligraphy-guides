---
---
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Calligraphy Guidelines</title>
  <link rel="stylesheet" href="{{ site.baseurl }}/css/main.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>
  <header class="ui no-print">
    <form id="form" action="">
      {{ page.title }}
      <label for="nib">nib</label>
      <select name="nib" id="nib">
        <option>1.5</option>
        <option selected="selected">2.4</option>
        <option>3.8</option>
        <option>6.0</option>
      </select>,
      <label for="x-height">x-height</label>
      <select name="x" id="x-height">
        <option>3</option>
        <option>4</option>
        <option selected="selected">5</option>
        <option>6</option>
      </select>

      <label for="cap">cap height</label>
      <select name="cap" id="cap">
        <option>6</option>
        <option selected="selected">7</option>
      </select>

      <label for="spacing">spacing height</label>
      <input type="number" value=2 id="spacing">

      <label for="lines">lines</label>
      <input type="number" value=10 id="lines">
    </form>
  </header>
  <nav class="ui no-print">
    <a href="{{ site.baseurl }}/">home</a>
  </nav>
  <div id="paper">
    {% for _ in (1..10) %}
      <p></p>
    {% endfor %}
  </div>

  <script>
    var $form = $('#form');
    var $paper = $('#paper');

    function update() {
      $paper.prop('class',
        $form.serialize()
        .replace(/=/g, '-')
        .replace(/\./g, '_')
        .replace(/&/g, ' '));

      var count = parseInt(document.getElementById('lines').value, 10);
      var spacing = parseFloat(document.getElementById('spacing').value);

      // Throw everything away!
      $paper.empty();
      for (var i = 0; i < count; i++) {
        $('<p/>').css({
          marginBottom: 'calc(' + spacing + 'em - 1px)'
        }).appendTo($paper);
      }
    }

    $form.on('submit', function (e) { e.preventDefault(); });
    $('select, input').on('change', update);
    update();
  </script>

</body>
</html>
